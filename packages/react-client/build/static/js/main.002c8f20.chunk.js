(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{414:function(e,t,n){e.exports=n(545)},545:function(e,t,n){"use strict";n.r(t);var a=n(38),r=n(0),i=n.n(r),c=n(20),o=n.n(c),s=n(580),l=n(102),m=n(113),u=n(107),d=n(108),p=n(111),g=n(110),f=n(30),h=n.n(f),E=n(49),b=n(24),v=n(4),x=n(567),y=n(582),I=n(568),A=n(274),S=n.n(A),w=n(389),O=n.n(w),P=n(115),T=n(333),j=n(268),k=n(334),N={accessToken:"",email:"",role:"",name:"",id:"",hasBusiness:!1,businessUserId:""},C=function(e){N=e},_=function(){return N},$=n(332),U=n(391),R=n.n(U),B=n(42),L=n(43),z=n.n(L),F=n(25);function D(){var e=Object(B.a)(["\n    query Users {\n  users {\n    id\n    email\n    name\n    firstName\n    lastName\n  }\n}\n    "]);return D=function(){return e},e}function q(){var e=Object(B.a)(["\n    mutation Register($email: String!, $password: String!, $firstName: String!, $lastName: String!, $userType: String!) {\n  register(email: $email, password: $password, firstName: $firstName, lastName: $lastName, userType: $userType)\n}\n    "]);return q=function(){return e},e}function V(){var e=Object(B.a)(["\n    mutation Logout {\n  logout\n}\n    "]);return V=function(){return e},e}function Y(){var e=Object(B.a)(["\n    mutation Login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    id\n    email\n    role\n    accessToken\n    name\n    hasBusiness\n    businessUserId\n  }\n}\n    "]);return Y=function(){return e},e}function W(){var e=Object(B.a)(["\n    query Products {\n  products {\n    id\n    name\n    price\n    description\n    createdAt\n    partner {\n      id\n      clientId\n      name\n    }\n  }\n}\n    "]);return W=function(){return e},e}function J(){var e=Object(B.a)(["\n    mutation CreateProduct($partnerId: String!, $name: String!, $price: Float!, $description: String!) {\n  createProduct(partnerId: $partnerId, name: $name, price: $price, description: $description) {\n    id\n    name\n    price\n    description\n    createdAt\n    partner {\n      id\n      clientId\n      name\n    }\n  }\n}\n    "]);return J=function(){return e},e}function G(){var e=Object(B.a)(["\n    query Posts {\n  posts {\n    id\n    title\n    postType\n    description\n    createdAt\n    videoUrl\n    user {\n      email\n      name\n    }\n  }\n}\n    "]);return G=function(){return e},e}function M(){var e=Object(B.a)(["\n    mutation CreatePost($userId: String!, $postType: String!, $title: String!, $description: String!, $videoUrl: String!) {\n  createPost(userId: $userId, postType: $postType, title: $title, description: $description, videoUrl: $videoUrl) {\n    id\n    title\n    postType\n    description\n    createdAt\n    videoUrl\n    user {\n      email\n      name\n    }\n  }\n}\n    "]);return M=function(){return e},e}function K(){var e=Object(B.a)(["\n    query Partner {\n  partners {\n    id\n    name\n    emails\n    partnerId\n    createdAt\n    payerId\n    clientId\n    verifiedAccount\n    user {\n      email\n      name\n    }\n  }\n}\n    "]);return K=function(){return e},e}function X(){var e=Object(B.a)(["\n    query PartnerDetail($id: String!) {\n  partner(id: $id) {\n    id\n    name\n    emails\n    partnerId\n    createdAt\n    payerId\n    clientId\n    verifiedAccount\n    user {\n      email\n      name\n    }\n  }\n}\n    "]);return X=function(){return e},e}function H(){var e=Object(B.a)(["\n    mutation CreatePartner($userId: String!, $name: String!, $emails: String!, $partnerId: String!, $payerId: String!, $clientId: String!, $verifiedAccount: String!) {\n  createPartner(userId: $userId, name: $name, emails: $emails, partnerId: $partnerId, payerId: $payerId, clientId: $clientId, verifiedAccount: $verifiedAccount) {\n    id\n    name\n    emails\n    partnerId\n    createdAt\n    payerId\n    clientId\n    verifiedAccount\n    user {\n      email\n      name\n    }\n  }\n}\n    "]);return H=function(){return e},e}function Q(){var e=Object(B.a)(["\n    query Orders {\n  orders {\n    id\n    name\n    price\n    description\n    createdAt\n    partner {\n      id\n      clientId\n      name\n    }\n    customer {\n      id\n      name\n    }\n    product {\n      id\n      name\n    }\n  }\n}\n    "]);return Q=function(){return e},e}function Z(){var e=Object(B.a)(["\n    mutation CreateOrder($partnerId: String!, $customerId: String!, $productId: String!, $name: String!, $price: Float!, $description: String!) {\n  createOrder(partnerId: $partnerId, customerId: $customerId, productId: $productId, name: $name, price: $price, description: $description) {\n    id\n    name\n    price\n    description\n    createdAt\n    partner {\n      id\n      clientId\n      name\n    }\n    customer {\n      id\n      name\n    }\n    product {\n      id\n      name\n    }\n  }\n}\n    "]);return Z=function(){return e},e}function ee(){var e=Object(B.a)(["\n    query Customers {\n  customers {\n    id\n    name\n    emails\n    customerId\n    createdAt\n    payerId\n    verifiedAccount\n    user {\n      email\n      name\n    }\n  }\n}\n    "]);return ee=function(){return e},e}function te(){var e=Object(B.a)(["\n    query CustomerDetail($id: String!) {\n  customer(id: $id) {\n    id\n    name\n    emails\n    customerId\n    createdAt\n    payerId\n    verifiedAccount\n    user {\n      email\n      name\n    }\n  }\n}\n    "]);return te=function(){return e},e}function ne(){var e=Object(B.a)(["\n    mutation CreateCustomer($userId: String!, $name: String!, $emails: String!, $customerId: String!, $payerId: String!, $clientId: String!, $verifiedAccount: String!) {\n  createCustomer(userId: $userId, name: $name, emails: $emails, customerId: $customerId, payerId: $payerId, verifiedAccount: $verifiedAccount) {\n    id\n    name\n    emails\n    customerId\n    createdAt\n    payerId\n    verifiedAccount\n    user {\n      email\n      name\n    }\n  }\n}\n    "]);return ne=function(){return e},e}function ae(){var e=Object(B.a)(["\n    mutation CreateCart($partnerId: String!, $customerId: String!, $productId: String!, $name: String!, $price: Float!, $description: String!) {\n  createCart(partnerId: $partnerId, customerId: $customerId, productId: $productId, name: $name, price: $price, description: $description) {\n    id\n    name\n    price\n    description\n    createdAt\n    partner {\n      id\n      clientId\n      name\n    }\n    customer {\n      id\n      name\n    }\n    product {\n      id\n      name\n    }\n  }\n}\n    "]);return ae=function(){return e},e}function re(){var e=Object(B.a)(["\n    query Carts($customerId: String!) {\n  carts(customerId: $customerId) {\n    id\n    name\n    price\n    description\n    createdAt\n    partner {\n      id\n      clientId\n      name\n    }\n    customer {\n      id\n      name\n    }\n    product {\n      id\n      name\n    }\n  }\n}\n    "]);return re=function(){return e},e}var ie=z()(re());var ce=z()(ae());z()(ne());var oe=z()(te());z()(ee());z()(Z());z()(Q());var se=z()(H());var le=z()(X());z()(K());var me=z()(M());var ue=z()(G());function de(e){return F.c(ue,e)}var pe=z()(J());var ge=z()(W());function fe(e){return F.c(ge,e)}var he=z()(Y());var Ee=z()(V());var be=z()(q());function ve(e){return F.b(be,e)}var xe=z()(D());var ye=function(e){var t,n=F.b(Ee,t),a=Object(b.a)(n,2),r=a[0],c=a[1].client;return i.a.createElement($.a,{onClick:Object(E.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:C({id:"",accessToken:"",email:"",role:"",name:"",businessUserId:"",hasBusiness:!1}),localStorage.removeItem("user"),null===c||void 0===c||c.resetStore(),e.history.push("/login");case 6:case"end":return t.stop()}}),t)})))},"Logout",i.a.createElement(O.a,null))},Ie=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(u.a)(this,n),(a=t.call(this,e)).handleChange=function(e,t){switch(a.setState({tab:t}),t){case"users":a.props.history.push("/users");break;case"posts":a.props.history.push("/posts");break;case"products":a.props.history.push("/products");break;case"carts":a.props.history.push("/my-carts");break;default:a.props.history.push("/")}},a.handleMenu=function(e){a.props.history.push("/profile")};var r=e.location.pathname;return a.state={tab:"/"===r?"":r.replace("/","")},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.tab,a=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user").toString()):_(),r=a.name;return i.a.createElement("div",{className:t.root},i.a.createElement(x.a,{position:"fixed"},i.a.createElement(T.a,null,"CustomerUser"===a.role&&i.a.createElement(i.a.Fragment,null,i.a.createElement(j.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return e.setState({tab:""},(function(){return e.props.history.push("/")}))}},r&&i.a.createElement(S.a,null)),i.a.createElement(l.b,{to:"/my-carts",style:{textTransform:"none"}},"My Carts")),i.a.createElement(P.a,{variant:"h6",className:t.title},("AdminUser"===a.role||"BusinessUser"===a.role)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,{value:n,onChange:this.handleChange,indicatorColor:"secondary",variant:"scrollable",scrollButtons:"auto"},i.a.createElement(I.a,{icon:i.a.createElement(S.a,null),label:"",value:"",className:t.tabItem}),"AdminUser"===a.role&&i.a.createElement(I.a,{label:"Users",value:"users",className:t.tabItem}),i.a.createElement(I.a,{label:"Posts",value:"posts",className:t.tabItem}),"BusinessUser"===a.role&&i.a.createElement(I.a,{label:"Products",value:"products",className:t.tabItem})))),!r&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.b,{to:"/login"},i.a.createElement(k.a,{style:{textTransform:"none"}},"Login")),i.a.createElement(l.b,{to:"/register"},i.a.createElement(k.a,{style:{textTransform:"none"}},"Register"))),r&&i.a.createElement(i.a.Fragment,null,i.a.createElement(j.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},i.a.createElement(R.a,null)," ",r),i.a.createElement(ye,this.props)))))}}]),n}(i.a.Component),Ae=Object(v.a)((function(e){return{menuButton:{marginRight:e.spacing(0)},title:{flexGrow:1,height:35},root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.primary},toolbar:{background:e.palette.background.primary},textColorSecondary:{color:"white"},tabItem:{width:"80px",minWidth:e.spacing(0),textTransform:"none",color:"white"}}}))(Ie),Se=n(575),we=n(550),Oe=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_API:"http://50.17.184.113:4000",REACT_APP_PAYPAL_AUTH_URL:"https://www.sandbox.paypal.com/signin/authorize",REACT_APP_PAYPAL_CLIENT_ID:"ASSXiwSa9I5x9KEb0gYH3nLsxXEiwNscyI-uA8QDQqur3i58Pzy9MicZRLmYaZjXu4jC310CklxGvLTD",REACT_APP_PAYPAL_SCOPE:"openid profile email address https://uri.paypal.com/services/paypalattributes",REACT_APP_PAYPAL_SECRET:"ECImpB7zi52-92bVl8Jy6MtNpG6W7M3eJKXddsc6UtC_Swh-QyMd4Yx4flXabwYz6z6mawliOk5tr3HE",REACT_APP_PAYPAL_TOKEN_URL:"https://api.sandbox.paypal.com/v1/oauth2/token",REACT_APP_PAYPAL_USER_URL:"https://api.sandbox.paypal.com/v1/identity/oauth2/userinfo?schema=paypalv1.1",REACT_APP_REDIRECT_URL:"http://50.17.184.113:3000/user/profile/",REACT_APP_REFRESH_TOKEN_LIFETIME:"1d"}),Pe=Oe.REACT_APP_PAYPAL_CLIENT_ID,Te=void 0===Pe?"AToOrRCR3xwa1hs6T5MVv9m7Xi8XCKqvXVM8rVuP1GyUqlhEJ0XZZh6zCKo2pOlosTBV_HEaoj5yVm79":Pe,je=Oe.REACT_APP_PAYPAL_SECRET,ke=void 0===je?"ECImpB7zi52-92bVl8Jy6MtNpG6W7M3eJKXddsc6UtC_Swh-QyMd4Yx4flXabwYz6z6mawliOk5tr3HE":je,Ne=Oe.REACT_APP_REDIRECT_URL,Ce=void 0===Ne?"http://localhost:3000/user/profile/":Ne,_e=Oe.REACT_APP_PAYPAL_AUTH_URL,$e=void 0===_e?"https://www.sandbox.paypal.com/signin/authorize":_e,Ue=Oe.REACT_APP_PAYPAL_TOKEN_URL,Re=void 0===Ue?"https://api.sandbox.paypal.com/v1/oauth2/token":Ue,Be=Oe.REACT_APP_PAYPAL_USER_URL,Le=void 0===Be?"https://api.sandbox.paypal.com/v1/identity/oauth2/userinfo?schema=paypalv1.1":Be,ze=Oe.REACT_APP_PAYPAL_SCOPE,Fe=void 0===ze?"openid profile email address https://uri.paypal.com/services/paypalattributes":ze,De=Oe.REACT_APP_BASE_API,qe=void 0===De?"http://127.0.0.1:4000":De,Ve=(Oe.REACT_APP_REFRESH_TOKEN_LIFETIME,btoa("".concat(Te,":").concat(ke))),Ye={url:$e,client_id:Te,scope:Fe,responseType:"code",redirect_uri:Ce},We=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getConnected=function(){var t=e.props,n=t.url,a=t.client_id,r=t.scope,i=t.redirect_uri,c=t.response_type,o="".concat(n,"?scope=").concat(r,"&response_type=").concat(c,"&redirect_uri=").concat(i,"&client_id=").concat(a);window.location.href=o},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(k.a,{onClick:this.getConnected,className:e.button},i.a.createElement("img",{alt:"Connect with PayPal",className:e.img,src:"https://www.paypalobjects.com/webstatic/en_US/developer/docs/login/connectwithpaypalbutton.png"}))}}]),n}(r.Component),Je=Object(v.a)((function(e){return{button:{borderRadius:"50px"}}}))(We),Ge=n(335),Me=n(571),Ke=n(570),Xe=n(572),He=n(573),Qe=n(574),Ze=n(336),et=n(583),tt=n(569),nt=n(392),at=n.n(nt),rt=Object(Ge.a)((function(e){return Object(Ze.a)({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}})})),it=function(e){var t=rt(),n=i.a.useState(!0),a=Object(b.a)(n,2),r=a[0],c=a[1];return i.a.createElement("div",{className:t.root},i.a.createElement(tt.a,{in:r},i.a.createElement(et.a,{variant:"outlined",severity:e.alertType,action:i.a.createElement(j.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){c(!1)}},i.a.createElement(at.a,{fontSize:"inherit"}))},e.message)))},ct=Object(Ge.a)({root:{maxWidth:345},media:{height:140},title:{fontSize:20},button:{float:"right",justifyItems:"flex-end"}}),ot=function(e){var t=ct(),n=e.url,a=e.title;return e.isVideo?i.a.createElement(Ke.a,{className:t.media,component:"iframe",title:a,src:n}):i.a.createElement(Ke.a,{className:t.media,image:n,title:a})},st=function(e){var t,n=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user").toString()):_(),a=F.b(ce,t),c=Object(b.a)(a,1)[0],o=ct(),s=e.title,l=e.description,m=e.price,u=e.imageUrl,d=void 0===u?"https://via.placeholder.com/345x140.png?text=":u,p=e.checkout,g=void 0!==p&&p,f=e.isVideo,v=void 0!==f&&f,x=e.product,y=Object(r.useState)(""),I=Object(b.a)(y,2),A=I[0],S=I[1],w=Object(r.useState)("success"),O=Object(b.a)(w,2),T=O[0],j=O[1],N=function(){var e=Object(E.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("product==addToCart====",t),e.next=3,c({variables:{partnerId:t.partner.id,customerId:n.businessUserId,productId:t.id,name:t.name,price:t.price,description:t.description}});case 3:a=e.sent,a.data?S("Added to cart"):(S("Something error. Please try again."),j("error"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(Me.a,{className:o.root},i.a.createElement(Xe.a,null,i.a.createElement(ot,{url:d,title:s,isVideo:v}),i.a.createElement(He.a,null,A&&i.a.createElement(P.a,{gutterBottom:!0,variant:"h5",component:"h2"},i.a.createElement(it,{message:A,alertType:T})),i.a.createElement(P.a,{gutterBottom:!0,variant:"h5",component:"h2"},i.a.createElement(we.a,{component:"legend"},i.a.createElement("span",{className:o.title},s," "))),i.a.createElement(P.a,{variant:"body2",color:"textSecondary",component:"p"},l))),i.a.createElement(Qe.a,null,m&&i.a.createElement(k.a,{size:"small",color:"primary"},i.a.createElement("strong",null,"$"+m.toString())),g&&i.a.createElement(k.a,{size:"small",color:"primary",onClick:function(){return N(x)},style:{textDecoration:"none"}},"Add to cart")))},lt=n(337),mt=Object(v.a)((function(e){return{app:{flexGrow:1,itemAlign:"center",background:"whitesmoke",padding:"70px",height:"100vh",width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}))((function(e){var t=e.classes,n=i.a.useState(0),a=Object(b.a)(n,2),r=a[0],c=a[1];return i.a.useEffect((function(){var e=setInterval((function(){c((function(e){return e>=100?0:e+1}))}),20);return function(){clearInterval(e)}}),[]),i.a.createElement("div",{className:t.app},i.a.createElement(k.a,{variant:"text",className:t.button,disabled:!0,style:{textTransform:"none"}},i.a.createElement(lt.a,{className:t.circularProgress,value:r,size:20}),"Loading..."))})),ut=Object(v.a)((function(){return{app:{flexGrow:1,itemAlign:"center",background:"whitesmoke",padding:"70px",height:"100vh"},postTitle:{borderBottom:"1px solid #c2c2c2",marginBottom:" 10px",fontWeight:"bold"}}}))((function(e){var t=e.classes,n=de({fetchPolicy:"network-only"}),a=fe({fetchPolicy:"network-only"}),r=[],c=[],o=!1;n.data&&(c=n.data.posts,o=n.loading),a.data&&(r=a.data.products,o=a.loading);var s=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user").toString()):_(),l="BusinessUser"===s.role&&!s.hasBusiness;return i.a.createElement("div",{className:t.app},o&&i.a.createElement(mt,null),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"center"},i.a.createElement(Se.a,{item:!0,xs:!0},l&&i.a.createElement(Je,Ye))),!o&&r.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"center",className:t.postTitle},i.a.createElement(we.a,{component:"h4"}," Products ")),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"center"},!o&&r.map((function(e){return i.a.createElement(Se.a,{item:!0,xs:3,key:e.id},i.a.createElement(st,{product:e,key:e.id,title:e.name,price:e.price,description:e.description,checkout:!0}))})))),!o&&c.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"center",className:t.postTitle},i.a.createElement(we.a,{component:"h4"}," Text & Videos Post ")),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"center"},c.map((function(e){return i.a.createElement(Se.a,{item:!0,xs:3,key:e.id},i.a.createElement(st,{key:e.id,imageUrl:e.post,title:e.title,isVideo:"video"===e.postType,description:e.description}))})))))})),dt=n(145),pt=n(338),gt=n(339),ft=n(584),ht=n(340),Et=Object(v.a)((function(e){return{app:{flexGrow:1,itemAlign:"center",background:"whitesmoke",padding:"70px",height:"100vh"},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit,width:"50%",margin:"auto"},paper:{padding:e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},title:{textAlign:"center",fontWeight:"bold",fontSize:20},headerTitle:{background:"white",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)",marginBottom:10},radioControl:{margin:0}}}))((function(e){var t=e.classes,n=e.history,c=ve(),o=Object(b.a)(c,1)[0],s={email:"",password:"",firstName:"",lastName:"",userType:"CustomerUser"},l=Object(r.useState)(s),m=Object(b.a)(l,2),u=m[0],d=m[1],p=function(e){var t=e.target.getAttribute("id"),n=e.target.value,r=Object(a.a)({},s),i=Object.create(r);i[t]=n,d(Object(a.a)({},u,{},i))},g=function(){var e=Object(E.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:Object(a.a)({},u)});case 2:n.push("/login?error=Please login to continue");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){d(Object(a.a)({},u,{userType:e.target.value}))};return i.a.createElement("div",{className:t.app},i.a.createElement(Se.a,{container:!0,spacing:8},i.a.createElement(Se.a,{item:!0,xs:!0},i.a.createElement(dt.a,{className:t.padding},i.a.createElement("div",{className:t.margin},i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0},i.a.createElement(we.a,{component:"h4"},"Register as: "),i.a.createElement(pt.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"top"},i.a.createElement(gt.a,{className:t.radioControl,value:"CustomerUser",control:i.a.createElement(ft.a,{color:"primary",checked:"CustomerUser"===u.userType,onChange:f}),label:"Customer User",labelPlacement:"start"}),i.a.createElement(gt.a,{className:t.radioControl,value:"BusinessUser",control:i.a.createElement(ft.a,{color:"primary",checked:"BusinessUser"===u.userType,onChange:f}),label:"Business User",labelPlacement:"end"})))),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0},i.a.createElement(ht.a,{id:"email",label:"Email",type:"email",fullWidth:!0,autoFocus:!0,required:!0,variant:"outlined",onChange:p}))),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0},i.a.createElement(ht.a,{id:"password",label:"Password",type:"password",fullWidth:!0,required:!0,variant:"outlined",onChange:p}))),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0},i.a.createElement(ht.a,{id:"firstName",label:"First Name",type:"text",fullWidth:!0,required:!0,variant:"outlined",onChange:p}))),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0},i.a.createElement(ht.a,{id:"lastName",label:"Last Name",type:"text",fullWidth:!0,required:!0,variant:"outlined",onChange:p}))),i.a.createElement(Se.a,{container:!0,justify:"flex-end",style:{marginTop:"10px"}},i.a.createElement(k.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:g},"Register")))))))})),bt=n(394),vt=n.n(bt),xt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.columns,a=e.onAdd,r=e.onRowDelete,c=e.data;return i.a.createElement(vt.a,{style:{boxShadow:"none"},title:t,columns:n,data:c,editable:{onRowAdd:a,onRowDelete:r}})}}]),n}(r.Component),yt=[{title:"Name",field:"firstName"},{title:"Surname",field:"lastName"},{title:"Email",field:"email"}],It=Object(v.a)((function(e){return{app:{flexGrow:1,itemAlign:"center",background:"whitesmoke",padding:"70px",height:"100vh"},margin:{margin:e.spacing.unit},padding:{padding:e.spacing.unit},paper:{padding:e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},table:{boxShadow:"none"}}}))((function(e){var t,n=[],c=(t={fetchPolicy:"network-only"},F.c(xe,t)).data;c&&(n=null===c||void 0===c?void 0:c.users.map((function(e){return{firstName:e.firstName,lastName:e.lastName,email:e.email,id:e.id}})));var o=Object(r.useState)(n),s=Object(b.a)(o,2),l=s[0],m=s[1],u=ve(),d=Object(b.a)(u,1)[0],p=function(){var e=Object(E.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(Object(E.a)(h.a.mark((function r(){var i;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d({variables:Object(a.a)({},t,{password:"AdminUser",userType:"AdminUser"})});case 2:(i=l.length>0?l:n).push(t),m(i),e(t);case 6:case"end":return r.stop()}}),r)}))),1e3)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=e.classes,f=l.length>0?l:n;return i.a.createElement("div",{className:g.app},i.a.createElement(Se.a,{container:!0,spacing:8},i.a.createElement(Se.a,{item:!0,xs:!0},i.a.createElement(dt.a,{className:g.paper},i.a.createElement(xt,{title:"Users",columns:yt,data:f,onAdd:p,onRowUpdate:function(e,t){return new Promise((function(e){setTimeout((function(){e()}),100)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){var a=(l.length>0?l:n).filter((function(t){return t.email!==e.email}));m(a),t(e)}),1e3)}))}})))))})),At=n(144),St=n.n(At),wt=Object(v.a)((function(e){return{app:{flexGrow:1,itemAlign:"center",background:"whitesmoke",padding:"70px",height:"100vh"},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit,width:"50%",margin:"auto"},paper:{padding:e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},title:{textAlign:"center",fontWeight:"bold",fontSize:20},headerTitle:{background:"white",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)",marginBottom:10}}}))((function(e){var t,n=St.a.parse(e.location.search),c=e.classes,o=e.history,s=F.b(he,t),l=Object(b.a)(s,1)[0],m={email:"",password:"",firstName:"",lastName:""},u=Object(r.useState)(m),d=Object(b.a)(u,2),p=d[0],g=d[1],f=function(e){var t=e.target.getAttribute("id"),n=e.target.value,r=Object(a.a)({},m),i=Object.create(r);i[t]=n,g(Object(a.a)({},p,{},i))},v=function(){var e=Object(E.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({variables:Object(a.a)({},p)});case 2:(t=e.sent)&&t.data&&(C(Object(a.a)({},t.data.login)),localStorage.setItem("user",JSON.stringify(t.data.login))),o.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:c.app},i.a.createElement(Se.a,{container:!0,spacing:8},i.a.createElement(Se.a,{item:!0,xs:!0},i.a.createElement(dt.a,{className:c.padding},i.a.createElement("div",{className:c.margin},i.a.createElement(we.a,{component:"h4"},"Login "),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0},n.error&&i.a.createElement(it,{alertType:"error",message:n.error}))),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0},i.a.createElement(ht.a,{id:"email",label:"Email",type:"email",fullWidth:!0,autoFocus:!0,required:!0,variant:"outlined",onChange:f}))),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0},i.a.createElement(ht.a,{id:"password",label:"Password",type:"password",fullWidth:!0,required:!0,variant:"outlined",onChange:f}))),i.a.createElement(Se.a,{container:!0,justify:"flex-end",style:{marginTop:"10px"}},i.a.createElement(k.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:v},"Login")))))))})),Ot=n(230),Pt=[{title:"CreatedAt",field:"createdAt",editable:"never"},{title:"User",field:"userName",editable:"never"},{title:"PostType",field:"postType",lookup:{text:"Text",video:"Video"},initialEditValue:"text"},{title:"Title",field:"title"},{title:"Description",field:"description"},{title:"Video Url",field:"videoUrl"}],Tt=Object(v.a)((function(e){return{app:{flexGrow:1,itemAlign:"center",background:"whitesmoke",padding:"70px",height:"100vh"},margin:{margin:e.spacing.unit},padding:{padding:e.spacing.unit},paper:{padding:e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},table:{boxShadow:"none"}}}))((function(e){var t=_(),n=[],a=de({fetchPolicy:"network-only"}),c=a.data,o=a.loading;!o&&c&&(null===c||void 0===c||c.posts.map((function(e){n.push({id:e.id,title:e.title,postType:e.postType,description:e.description,createdAt:e.createdAt,videoUrl:e.videoUrl,userName:e.user.name})})));var s,l=Object(r.useState)(n),m=Object(b.a)(l,2),u=m[0],d=m[1],p=F.b(me,s),g=Object(b.a)(p,1)[0],f=e.classes,v=u.length>0?u:n;return i.a.createElement("div",{className:f.app},i.a.createElement(Se.a,{container:!0,spacing:8},i.a.createElement(Se.a,{item:!0,xs:!0},i.a.createElement(dt.a,{className:f.paper},o&&i.a.createElement(mt,null),!o&&i.a.createElement(xt,{title:"Posts",columns:Pt,data:v,onAdd:function(e){return new Promise((function(a){setTimeout(Object(E.a)(h.a.mark((function r(){var i,c,o,s,l,m,p,f,E,b,v,x,y;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.postType,c=void 0===i?"":i,o=e.title,s=void 0===o?"":o,l=e.description,m=void 0===l?"":l,p=e.videoUrl,f=void 0===p?"":p,r.next=3,g({variables:{postType:c,title:s,description:m,videoUrl:f,userId:t.id}});case 3:E=r.sent,b=E.data,v=b.createPost,x={id:v.id,title:v.title,postType:v.postType,description:v.description,createdAt:v.createdAt,videoUrl:v.videoUrl,userName:v.user.name},y=u.length>0?u:n,d([].concat(Object(Ot.a)(y),[x])),a(x);case 10:case"end":return r.stop()}}),r)}))),1500)}))},onRowUpdate:function(e,t){return new Promise((function(a){if(a(),t){var r=u.length>0?u:n;r[r.indexOf(t)]=e,d(r)}}))},onRowDelete:function(e){return new Promise((function(t){var a=(u.length>0?u:n).filter((function(t){return t.id!==e.id}));d(a),t(e)}))}})))))})),jt=n(399),kt=n.n(jt),Nt=n(278),Ct=n.n(Nt),_t=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user").toString()):_(),$t=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0,component:"h4"},"Name: ",_t.name)),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0,component:"h4"},"Email: ",_t.email)),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0,component:"h4"},"User Role: ",_t.role)))},Ut=function(){var e,t,n=(e={variables:{id:_t.businessUserId},fetchPolicy:"network-only"},F.c(oe,e)).data;return n&&(t=n.customer),t?i.a.createElement(i.a.Fragment,null,i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0,component:"h4"},"Name: ",t.name)),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0,component:"h4"},"Email: ",t.user.email))):i.a.createElement(i.a.Fragment,null)},Rt=function(){var e,t,n=(e={variables:{id:_t.businessUserId},fetchPolicy:"network-only"},F.c(le,e)).data;return n&&(t=n.partner),t?i.a.createElement(i.a.Fragment,null,i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0,component:"h4"},"Business Name: ",t.name)),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0,component:"h4"},"Personal Email: ",t.user.email)),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0,component:"h4"},"Business Emails: ",t.emails)),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0,component:"h4"},"PayPal Verified: ","true"===t.verifiedAccount?"Verified":"Not verified"))):i.a.createElement(i.a.Fragment,null)},Bt=Object(v.a)((function(e){return{app:{flexGrow:1,itemAlign:"center",background:"whitesmoke",padding:"70px",height:"100vh"},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit,width:"50%",margin:"auto"},paper:{padding:e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},title:{textAlign:"center",fontWeight:"bold",fontSize:20},headerTitle:{background:"white",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)",marginBottom:10}}}))((function(e){var t,n=F.b(se,t),c=Object(b.a)(n,1)[0],o=Object(r.useState)({userId:"",name:"",emails:"",partnerId:"",payerId:"",clientId:"",verifiedAccount:""}),s=Object(b.a)(o,2),l=s[0],m=s[1],u=Object(r.useState)({message:"",alertType:"success"}),d=Object(b.a)(u,2),p=d[0],g=d[1],f=e.classes,v={grant_type:"authorization_code",code:St.a.parse(e.location.search).code},x={method:"POST",headers:{Authorization:"Basic ".concat(Ve)},data:kt.a.stringify(v),url:Re},y=function(){var t=Object(E.a)(h.a.mark((function t(){var n,r,i,o,s,m,u,d,p,f,E,b,v;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.clientId){t.next=4;break}g({alertType:"error",message:"Please enter PayPal clientID."}),t.next=24;break;case 4:return t.next=6,Ct()(x);case 6:return n=t.sent,r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer  ".concat(n.data.access_token)},url:Le},t.next=10,Ct()(r);case 10:return i=t.sent,o=i.data,s="",m=o.user_id,u=o.name,d=o.payer_id,p=o.verified_account,o.emails.map((function(e){s=s.concat(","+e.value)})),f=Object(a.a)({},l,{userId:_t.id,name:u,emails:s,partnerId:m,payerId:d,verifiedAccount:p}),t.next=18,c({variables:Object(a.a)({},f)});case 18:E=t.sent,b=E.data.createPartner,v=Object(a.a)({},_t,{hasBusiness:!0,businessUserId:b.id}),C(Object(a.a)({},v)),localStorage.setItem("user",JSON.stringify(v)),g({alertType:"success",message:"Your business profile has been updated.."});case 24:e.history.push("/products");case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i.a.createElement("div",{className:f.app},i.a.createElement(Se.a,{container:!0,spacing:8},i.a.createElement(Se.a,{item:!0,xs:!0},i.a.createElement(dt.a,{className:f.padding},i.a.createElement("div",{className:f.margin},i.a.createElement(we.a,{component:"h4"},"User Profile"),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0},p.message&&i.a.createElement(it,p))),""!==_t.businessUserId&&"BusinessUser"===_t.role&&i.a.createElement(Rt,null),""!==_t.businessUserId&&"CustomerUser"===_t.role&&i.a.createElement(Ut,null),("AdminUser"===_t.role||""===_t.businessUserId&&"CustomerUser"===_t.role)&&i.a.createElement($t,null),""===_t.businessUserId&&"BusinessUser"===_t.role&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},i.a.createElement(Se.a,{item:!0,md:!0,sm:!0,xs:!0},i.a.createElement(ht.a,{id:"clientId",label:"ClientID",type:"text",fullWidth:!0,required:!0,variant:"outlined",onChange:function(e){var t=e.target.value;m(Object(a.a)({},l,{clientId:t}))}}))),i.a.createElement(Se.a,{container:!0,justify:"flex-end",style:{marginTop:"10px"}},i.a.createElement(k.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:y},"Save"))))))))})),Lt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.location,a=At.parse(n.search).errorMessage;return i.a.createElement("div",{className:t.app},i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"center"},i.a.createElement(Se.a,{item:!0,xs:!0},i.a.createElement(it,{message:a,alertType:"error"}))),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"center"},i.a.createElement(Se.a,{item:!0,xs:!0,justify:"flex-end"},i.a.createElement(l.b,{style:{float:"right"},to:"/"},"Back to home"))))}}]),n}(r.Component),zt=Object(v.a)((function(){return{app:{flexGrow:1,itemAlign:"center",background:"whitesmoke",padding:"70px",height:"100vh"},error:{color:"red"}}}))(Lt),Ft=[{title:"CreatedAt",field:"createdAt",editable:"never"},{title:"Business Name",field:"businessName",editable:"never"},{title:"Name",field:"name"},{title:"Description",field:"description"},{title:"Price",field:"price",type:"numeric"}],Dt=Object(v.a)((function(e){return{app:{flexGrow:1,itemAlign:"center",background:"whitesmoke",padding:"70px",height:"100vh"},margin:{margin:e.spacing.unit},padding:{padding:e.spacing.unit},paper:{padding:e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},table:{boxShadow:"none"}}}))((function(e){var t=_(),n=[],a=fe({fetchPolicy:"network-only"}),c=a.data,o=a.loading;!o&&c&&(null===c||void 0===c||c.products.map((function(e){n.push({id:e.id,name:e.name,price:e.price,description:e.description,createdAt:e.createdAt,businessName:e.partner.name,partner:{id:e.partner.id,clientId:e.partner.clientId,name:e.partner.name}})})));var s,l=Object(r.useState)(n),m=Object(b.a)(l,2),u=m[0],d=m[1],p=F.b(pe,s),g=Object(b.a)(p,1)[0],f=e.classes,v=u.length>0?u:n;return i.a.createElement("div",{className:f.app},i.a.createElement(Se.a,{container:!0,spacing:8},i.a.createElement(Se.a,{item:!0,xs:!0},i.a.createElement(dt.a,{className:f.paper},o&&i.a.createElement(mt,null),!o&&i.a.createElement(xt,{title:"Products",columns:Ft,data:v,onAdd:function(e){return new Promise((function(a){setTimeout(Object(E.a)(h.a.mark((function r(){var i,c,o,s,l,m,p,f,E,b,v;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.name,c=void 0===i?"":i,o=e.price,s=void 0===o?"":o,l=e.description,m=void 0===l?"":l,r.next=3,g({variables:{name:c,price:parseFloat(s.toString()),description:m,partnerId:t.businessUserId}});case 3:p=r.sent,f=p.data,E=f.createProduct,b={id:E.id,name:E.name,price:E.price,description:E.description,createdAt:E.createdAt,businessName:E.createdAt,partner:{id:E.partner.id,clientId:E.partner.name,name:E.partner.name}},v=u.length>0?u:n,d([].concat(Object(Ot.a)(v),[b])),a(b);case 10:case"end":return r.stop()}}),r)}))),1500)}))},onRowUpdate:function(e,t){return new Promise((function(a){if(a(),t){var r=u.length>0?u:n;r[r.indexOf(t)]=e,d(r)}}))},onRowDelete:function(e){return new Promise((function(t){var a=(u.length>0?u:n).filter((function(t){return t.id!==e.id}));d(a),t(e)}))}})))))})),qt=n(366),Vt=n(346),Yt=n(343),Wt=n(581),Jt=n(361),Gt=n(347),Mt=n(400),Kt=function(e){var t=e.amount,n=e.paypalOptions;return i.a.createElement(Mt.PayPalButton,{paypalOptions:n,buttonStyles:{layout:"horizontal",shape:"rect",label:"pay"},onApprove:function(e,t){},onPaymentStart:function(){console.log("Payment started====")},onPaymentSuccess:function(e){},onPaymentError:function(e){alert(e)},onPaymentCancel:function(e){},amount:t})},Xt=function(e){var t=e.rows,n=t[0].partner.clientId,a={clientId:void 0===n?Te:n,intent:"capture"},r=0;return t.map((function(e){r+=e.price})),i.a.createElement(Wt.a,{component:dt.a},i.a.createElement(qt.a,{size:"medium","aria-label":"a dense table"},i.a.createElement(Jt.a,null,i.a.createElement(Gt.a,null,i.a.createElement(Yt.a,null,"Name"),i.a.createElement(Yt.a,null,"Description"),i.a.createElement(Yt.a,{align:"right"},"Price"))),i.a.createElement(Vt.a,null,t.map((function(e,t){return i.a.createElement(Gt.a,{key:t},i.a.createElement(Yt.a,null,e.name),i.a.createElement(Yt.a,null,e.description),i.a.createElement(Yt.a,{align:"right"},e.price))})),i.a.createElement(Gt.a,{key:"totalRow"},i.a.createElement(Yt.a,{colSpan:2},"Total Price"),i.a.createElement(Yt.a,{align:"right"},r)),i.a.createElement(Gt.a,{key:"totalRow"},i.a.createElement(Yt.a,{colSpan:3,align:"right"},i.a.createElement(Kt,{amount:r,paypalOptions:a}))))))},Ht=Object(v.a)((function(e){return{app:{flexGrow:1,itemAlign:"center",background:"whitesmoke",padding:"70px",height:"100vh"},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit,width:"50%",margin:"auto"},paper:{padding:e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},title:{textAlign:"center",fontWeight:"bold",fontSize:20},headerTitle:{background:"white",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)",marginBottom:10}}}))((function(e){var t,n=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user").toString()):_(),a=(t={variables:{customerId:n.businessUserId},fetchPolicy:"network-only"},F.c(ie,t)),r=a.data,c=a.loading,o=e.classes;return r?i.a.createElement("div",{className:o.app},i.a.createElement(Se.a,{container:!0,spacing:8},i.a.createElement(Se.a,{item:!0,xs:!0},c&&i.a.createElement(mt,null),i.a.createElement(dt.a,{className:o.padding},i.a.createElement("div",{className:o.margin},i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"},!c&&r.carts.length>0&&i.a.createElement(Xt,{rows:r.carts}),!c&&0===r.carts.length&&i.a.createElement(Se.a,{item:!0,style:{padding:50}},"No data available.")),i.a.createElement(Se.a,{container:!0,spacing:8,alignItems:"flex-end"})))))):i.a.createElement(i.a.Fragment,null)})),Qt=function(){return i.a.createElement(m.c,null,i.a.createElement(m.a,{exact:!0,path:"/",component:ut}),i.a.createElement(m.a,{exact:!0,path:"/login",component:wt}),i.a.createElement(m.a,{exact:!0,path:"/register",component:Et}),i.a.createElement(m.a,{exact:!0,path:"/users",component:It}),i.a.createElement(m.a,{exact:!0,path:"/posts",component:Tt}),i.a.createElement(m.a,{exact:!0,path:"/products",component:Dt}),i.a.createElement(m.a,{exact:!0,path:"/my-carts",component:Ht}),i.a.createElement(m.a,{exact:!0,path:"/profile",component:Bt}),i.a.createElement(m.a,{exact:!0,path:"/error",component:zt}))},Zt=function(){return Object(r.useEffect)((function(){if(localStorage.getItem("user")){var e=JSON.parse(localStorage.getItem("user").toString());C(e)}}),[]),i.a.createElement(l.a,null,i.a.createElement(m.a,{path:"/",render:function(e){return i.a.createElement(Ae,e)}}),i.a.createElement(Qt,null))},en=n(271),tn=n.n(en),nn=n(206),an=Object(nn.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#fff"},error:{main:tn.a.A400},background:{default:"#fff"}}}),rn=n(55),cn=n(114),on=n(404),sn=n(405),ln=n(403),mn=n(40),un=n(46),dn=n(406),pn=n(401),gn=n.n(pn);n(402).config();var fn=new on.a({}),hn=new mn.a((function(e,t){return new un.a((function(n){var a;return Promise.resolve(e).then((function(e){var t=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user").toString()):_();t.accessToken&&e.setContext({headers:{authorization:"bearer ".concat(t.accessToken)}})})).then((function(){a=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),function(){a&&a.unsubscribe()}}))})),En=document.querySelector("#root"),bn=new cn.a({link:mn.a.from([new dn.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user").toString()):_();if(!e.accessToken)return localStorage.removeItem("user"),!0;try{var t=gn()(e.accessToken).exp;return!(Date.now()>=1e3*t)}catch(n){return!1}},fetchAccessToken:function(){return fetch("".concat(qe,"/refresh_token"),{method:"POST",credentials:"include"})},handleFetch:function(e){var t=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user").toString()):_();C(Object(a.a)({},t,{accessToken:e}))},handleError:function(e){console.warn("Your refresh token is invalid. Try to again"),console.error("err====",e),C({id:"",accessToken:"",email:"",role:"",name:"",businessUserId:"",hasBusiness:!1}),localStorage.removeItem("user")}}),Object(ln.a)((function(e){var t=e.graphQLErrors,n=e.networkError;console.log(t),console.log(n);var a,r="";void 0!==t&&(r=t[0].message,t[0].path.length>0&&(a=t[0].path[0])),void 0!==n&&(r="Network Error! Please try again"),console.log(r),console.log(a);var i="/";"login"===a?(localStorage.removeItem("user"),i="/login/?error=".concat(r)):"Not authorized!"===r?(localStorage.removeItem("user"),i="/login/?error=".concat(r," Please login to continue")):i="/error/?errorMessage=".concat(r),window.location.href=i})),hn,new sn.a({uri:"".concat(qe,"/graphql"),credentials:"include"})]),cache:fn});o.a.render(i.a.createElement(s.a,{theme:an},i.a.createElement(rn.a,{client:bn},i.a.createElement(Zt,null))),En)}},[[414,1,2]]]);
//# sourceMappingURL=main.002c8f20.chunk.js.map